<div id="author-details-outer">
        <table width="90%" align="center">
            <!-- Given name
              - Red * means this is a required field.
            -->
            <tr>
                <td align="right" data-toggle="tooltip" title="Required field" width="20%">
                    <span style="margin-right: .5em;" data-toggle="tooltip" title="This field is required"><span
                            style="color:red;">*</span> Given Name:</span>
                </td>
                <td>
                    <input type="text" [(ngModel)]="author.givenName" style="height:2em;"
                        (input)="onGivenNameChange($event.target.value)" />
                </td>
            </tr>

            <!-- Middle name -->
            <tr>
                <td align="right">
                    <span style="margin-right: .5em;">Middle Name:</span>
                </td>
                <td>
                    <input type="text" [(ngModel)]="author.middleName" style="height:2em;"
                        (input)="onMiddleNameChange(author, $event.target.value)" />
                </td>
            </tr>

            <!-- Family name
              - Red * means this is a required field.
              -->
            <tr data-toggle="tooltip" title="Required field">
                <td align="right">
                    <span style="margin-right: .5em;" data-toggle="tooltip" title="This field is required"><span
                            style="color:red;">*</span> Family Name:</span>
                </td>
                <td>
                    <input type="text" [(ngModel)]="author.familyName" style="height:2em;"
                        (input)="onFamilyNameChange(author, $event.target.value)" />
                </td>
            </tr>

            <!-- Full name to display in the landing page
              - Red * means this is a required field.
              - By default, full name is Given Name + Middle Name + Family Name. But user can it to whatever they want. Once user changes this field, the lock at the right side will be locked. Click on the lock will toggle the lock. If it's locked, user can change the value. When it's unlocked, the default value will display.
              -->
            <tr>
                <td width="15%" align="right">
                    <span style="margin-right: .5em;white-space: nowrap;" data-toggle="tooltip" title="This field is required"><span
                            style="color:red;">*</span> Name (as displayed)</span>
                </td>
                <td align="left">
                    <input type="text" [(ngModel)]="author.fn"
                        style="width: calc(100% - 2em);height:2em; margin-right: .5em;"
                        (input)="onFullNameChange(author, $event.target.value)" />
                    <i *ngIf="!author.fnLocked" class="faa faa-unlock" (click)="author.fnLocked = !author.fnLocked"
                        style="cursor:pointer;" data-toggle="tooltip"
                        title="Prevent full name from updated automatically"></i>
                    <i *ngIf="author.fnLocked" class="faa faa-lock" (click)="author.fnLocked = !author.fnLocked"
                        style="cursor:pointer;" data-toggle="tooltip"
                        title="Allow full name been updated automatically"></i>
                </td>
            </tr>

            <!-- ORCID 
              - Allows user to enter ORCID
              - The icon to the right will open official ORCID home page 
            -->
            <tr>
                <td align="right">
                    <span style="margin-right: .5em;" data-toggle="tooltip" title="This field is recommended"><span
                            style="color:green;">*</span> ORCID:</span>
                </td>
                <td align="left">
                    <input type="text" [(ngModel)]="author.orcid" id="orcid-input" (blur)="validateOrcid(author)" (keyup.enter)="validateOrcid(author)" placeholder="####-####-####-####" style="width: calc(100% - 2em); height: 2em;"/>

                    <a href="https://orcid.org" target="blank">
                        <img src="assets/images/orcid-logo.png" style="width: 20px;margin-left: 5px;">
                    </a>

                    <!-- <div *ngIf="!author.orcidValid" id="orcid-warning">
                        <i>Please enter valid ORCID. <p>Examples: 0000-1832-8812-1125, 0030-0422-1347-101X</i>
                    </div> -->
                </td>
            </tr>

            <tr>
                <td></td>
                <td align="left">
                    <div *ngIf="!author.orcidValid" id="orcid-warning">
                        <i>Please enter valid ORCID. <p>Examples: 0000-1832-8812-1125, 0030-0422-1347-101X</i>
                    </div>
                </td>
            </tr>

            <!-- Affiliation management -->
            <tr>
                <td align="right" style="vertical-align: top;">
                    <span style="margin-right: .5em;" data-toggle="tooltip" title="This field is recommended"><span
                            style="color:green;">*</span> Affiliations:</span>
                    <span class="faa-stack" (click)="addAffiliation();" data-toggle="tooltip" title="Add affiliation">
                        <i class="faa faa-circle faa-stack-2x" style="color:green;"></i>
                        <i class="faa faa-plus faa-stack-1x faa-inverse"></i>
                    </span>
                </td>
                <td style="border: 1px solid lightgrey;">
                    <div *ngFor="let aff of author.affiliation; let j = index; trackBy: trackByFn"
                        style="width:100%; margin: 0em 0em .5em 0em;">
                        <div style="width: 100%; background-color: rgb(248, 246, 237)">
                            <div style="float: left; width: calc(100% - 2em); margin-left: .5em;">
                                <table>
                                    <tr>
                                        <td width="10%" align="right">Organization Name:</td>
                                        <td colspan="2">
                                            <combo-box [dataList]="affiliationList" [columnName]="'name'"
                                                [(controlField)]="author.affiliation[j].title"
                                                (controlFieldChange)="affiliationNameChanged($event, i)"></combo-box>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="10%" align="right" valign="center">Department/Division:</td>
                                        <td>
                                            <input type="text" [(ngModel)]="author.affiliation[j].subunits"
                                                style="width: 100%;height:2em;"
                                                (input)="onDeptChange(author)" />
                                        </td>
                                        <td width="2em">
                                            <i class="faa faa-trash" (click)="deleteAffiliation(i, aff)"
                                            style="float: right;cursor: pointer;color:grey; margin: 1em .5em;" data-toggle="tooltip"
                                            title="Delete affiliation"></i>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
</div>